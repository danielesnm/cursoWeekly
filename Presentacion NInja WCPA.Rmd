---
title: "Weekly Calendar Planning Activity <br> (Actividad de Planificacion del Horario Semanal)"
subtitle: "Joan Toglia"
author: "Daniel Salazar Frías"
institute: "Universidad de Granada"
date: "2020/06/26 (updated: `r Sys.Date()`)"
output:
  xaringan::moon_reader:
    css: [default, metropolis, chocolate-fonts]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

background-image: url(https://github.com/danielesnm/cursoWeekly/blob/master/imagenes/1.%20WCPA%20imagen.png?raw=true)
background-position: 5% 50%
background-size: 40%
class: center, top

# __Orden de la presentación__
--
<br><br>
.pull-right[
## 1. Información general 
## 2. Descripción del instrumento
## 3. Administración
## 4. Calificación e interpretación
]



```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```

---
class: inverse, center, middle

# __1. Información general de la prueba__


---
layout: false 
background-image: url(https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS-SGwU-qc6Zuge6-oCcYes-YjEhZQm_Rg1Tg&usqp=CAU)
background-position: 50% 90%
background-size: 80%
# **Información general**
##**Prueba basada en el desempeño para medir funciones ejecutivas.**    

-Capacidad de  utilizar e ingresar una lista de 10 tareas en un horario semanal.  

-Proporciona información sobre el _rendimiento_ en una __actividad instrumental de la vida diaria__, identificando:
+ Habilidad para __seguir reglas.__
+ Los __tipos de error__ que contribuyen a los deficits en el desempeño. 
+ El __uso de la estrategias.__  

***

---
background-image: url(https://i.etsystatic.com/10609453/r/il/28e694/826799468/il_794xN.826799468_hji2.jpg)
background-position: 50% 65%
background-size: 27%
# **Información general**  

.pull-left[## __¿Qué son las funciones executivas?__
_Conjunto de habilidades cognitivas_ que son críticas para el _control, coordinación y regulación_ de pensamientos, emociones y acciones dirigidas a objetivos.  
[(Zelazo & Carlson, 2012)](https://psycnet.apa.org/record/2012-31092-006) 
<br><br><br>
]

.pull-right[
##**Principales sub-componentes**
3. Inhibición
3. Memoria de trabajo
4. Flexibilidad cognitiva
5. Automonitoreo
]

<br><br><br>
***
--

Contribuyen al _control cognitivo y la autorregulación_ necesarios para la planificación, organización y resolución de problemas en _situaciones novedosas, complejas o desafiantes._ [(Prencipen et al., 2011)](https://pubmed.ncbi.nlm.nih.gov/21044790/) 

---
background-image: url(https://cdn.mindful.org/MindfulMoment.jpg?q=80&fm=jpg&fit=crop&w=1920&h=1080)
background-position: 5% 80%
background-size: 55%

#**Información general**
##**Funciones Ejecutivas y su relación con Actividades de la Vida Diaria**
- Se ha sugerido que las FE tiene un **efecto amplio sobre el desempeño ocupacional en múltiples poblaciones**, destacando la importancia de _evaluarlas dentro del contexto de actividades relevantes para la vida cotidiana_  [(Cicerone et al., 2019)](https://pubmed.ncbi.nlm.nih.gov/30926291/) 

***

.pull-right[
<br>
>1. Productividad y empleo    
2. Participacion en actividades sociales  
3. Adherencia al tratamiento  
3. Calidad de vida  
4. Desempeño en actividades complejas
5. Desempeño academico exitoso
]

---
background-image: url(https://www.fundacioncadah.org/j289eghfd7511986_uploads/web_1/post_images/image_item_final_329.jpg)
background-position: 90% 50%
background-size: 35%
#**Información general**
##**Evaluación de las FE y las Actividades Instrumentales de la Vida Diaria **

Normalmente se utilizan test con tareas abstractas para identificar deficits en en los diferentes componentes de las FE [(Lezak et al., 2012)](https://psycnet.apa.org/record/2012-02043-000).

.pull-left[
##**Principales sub-componentes**
3. Inhibición
3. Memoria de trabajo
4. Flexibilidad cognitiva
5. Automonitoreo
]

<br><br><br><br><br><br><br><br><br><br>
--

>## **No predicen el rendimiento en tareas complejas en el mundo real!!**

---
background-image: url(https://images.creativemarket.com/0.1.0/ps/6550506/600/400/m2/fpnw/wm0/creative-people-2-.jpg?1560760178&s=81fc4f6fa2334996556bc73e7f484c72)
background-position: 0% 60%
background-size: 55%

#**Información general**
##**Herramientas ecológicamente válidas para complementar las medidas estandarizadas de FE. ** 
***

--

.pull-right[>Personas con deficits en FE, pueden desempeñarse bien en el contexto de actividades rutinarias...  

>...y tener  dificultades  durante actividades novedosas, que requieren la capacidad de tener en cuenta diferentes variables simultáneamente mientras se planifica y organiza la información.
]


--

###**Performance-based v.s self-report measures**

???

Para que las habilidades necesarias para el funcionamiento diario se capturen completamente y se obtenga un perfil más completo de FE

Pero..¿Cuál es el problema?
La mayoría de las evaluaciones funcionales estandarizadas utilizadas están diseñadas para examinar actividades cotidianas o las actividades básicas de la vida diaria.

La mayoria de las veces, este tipo de problemas en la clinica, se miden con auto reportes, o reportes de personas cercanas al paciente, en vez de evaluarse por medio de la observacion directa del desempeño en tareas especificas

---
background-image: url(https://ars.els-cdn.com/content/image/1-s2.0-S0003999309006741-fx1b.jpg), url(https://i.pinimg.com/originals/72/24/fd/7224fd596b628e0289d134a98f674f97.jpg)
background-position: 15% 90%, 85% 90%
background-size: 25%, 28%
#**Información general**
##**Observación directa del desempeño en _actvidades_**

>###Performance-based measures of Executive Functions  

<br>
.pull-left[**Mulitple Errand Tests** [(Shallice & Burgess, 1991)](https://pubmed.ncbi.nlm.nih.gov/2043945/).]
.pull-right[**Executive Function Performance Test** [(Baum et al., 2016)](https://pubmed.ncbi.nlm.nih.gov/27150506/).]



???
EN actividades que representen un reto para los pacientes con daño cerbral

MET

---
layout: false 
background-image: url(https://www.medbridgeeducation.com/blog/wp-content/uploads/2019/01/M290_Email-Hero-for-Susan-Stralka-PT-AT_Blog1.png)
background-position: 50% 100%
background-size: 100%
#**Información general**
## **Algunas ventajas de su uso**
.pull-left[-Adecuada para personas con **dificultades sutiles de FE.**  

-Tiene **formas alternativas** para volver a evaluar.  

**-Fácil de transportar**, se puede usar en cualquier entorno
]

.pull-right[-Proporciona __información relevante para el tratamiento__ neuropsicológico y de terapia ocupacional.  

-Proporciona información detallada sobre el **proceso y la calidad del desempeño.**
]

---
# **Información general**
.pull-left[>##__¿Para qué pacientes es apropiada?__##
]

.center-column[###1. Independencia en AVD básicas.  
###2. Atención durante al menos 10 minutos.  
###3. Orientación y comprensión de oraciones.]

<br>

| Trastornos neurológicos |Trastornos mentales|Trastornos del desarrollo| 
|:------:|:------:|:-----:|
|-Accidente Cerebrovascular|-Esquizofrenia|-Problemas de aprendizaje|
|-Traumatismo Craneoencefálico|-Abuso de sustancias|-Déficit de Atención|
|-Tumor Cerbral|-Trastorno Bipolar|-Traumatismo Craneoencefalico Pediatrico|
|-Esclerosis Multiple|-Depresión|-Tumores Cerebrales Pediatricos|


---
layout: false 
background-image: url(https://image.freepik.com/free-vector/person-different-ages-illustration_52683-31797.jpg)
background-position: 50% 85%
background-size: 65%


#**Información general**
>##**¿Para qué grupos de edad es apropiada?**

##- 12 a 94 años de edad  
####Existen datos normativos para edades de 16 a 94 años de edad
<br><br><br><br><br><br><br><br><br><br><br>
***

---
#**Información general**
##**Evaluación 

---
class: inverse, center, middle

# __2. Descripción de la prueba__

---
#**Descripcion de la prueba**

##**Weekly Calendar Planning Activity** 

>- Ingresar de 17/18 citas en un calendario semanal (10 en la versión corta) .
- Algunas de las citas son fijas y otras tienen varias opciones de día y hora.
- Se requiere planificación para evitar conflictos de tiempo

***  

--

.left-column[###(__Level I__)  
<br>
###__[(Level II)](www.google.com)__
<br>
###(__Level III__)
]  

.center-column[+ Lista de citas organizada  
+ Ayuda  para  marcar los elementos de la lista  
+ **NO** requiere planeación
]
.center-column[+ Lista de citas desorganizada.   
+ No se le da ayudas.
+ Requiere planeación y organización]

.center-column[+ Citas en párrafo.   
+ No se le da ayudas.
+ Requiere clasificación de información relevante y planificación previa]



---
background-image: url(https://github.com/danielesnm/cursoWeekly/blob/master/imagenes/Level%20I.png?raw=true),url(https://github.com/danielesnm/cursoWeekly/blob/master/imagenes/Level%20II.png?raw=true),url(https://github.com/danielesnm/cursoWeekly/blob/master/imagenes/Level%20III.png?raw=true)
background-position: 5% 0%, 95% 0%, 50% 100%
background-size: 40%, 40%, 39%
#**Descripcion de la prueba**

---
background-image: url(https://github.com/danielesnm/cursoWeekly/blob/master/imagenes/Horario%20semanal.jpg?raw=true)
background-position: 95% 85%
background-size: 45%
#**Descripcion de la prueba**
>##** Similitudes entre los 3 niveles de complejidad**  


--

###_Lidiar con problemas_  
.pull-left[1. Espacios para citas de **15 min.** de 7:00-17:00 y **30 min.** de 18:00-20:00. 
2. Sábado y domingo estan **invertidos.**  
3. **Termina a las 20:00** a pesar de que una cita puede extenderse después de las 20:00. 

<br>
_Brindan la oportunidad de observar cómo las personas afrontan y se adaptan a problemas inesperados._
]

  
---
#**Descripcion de la prueba**
>##** Similitudes entre los 3 niveles de complejidad**  

###_Reglas_  

1. Una vez que haya apuntado una cita en el horario, no podrá tacharla.
2. Avíseme cuando sean las ________horas.
3. Deje el __________libre. (No programe ninguna cita o tarea ese día.) 
4. No conteste a ninguna pregunta del examinador durante esta actividad.
5. Avise al examinador cuando haya terminado.  

***

--

.left-column[###**Inhibicion**

###**[Memoria Prospectiva](www.google.com)**

###**M. de trabajo**]

.right-column[- Capacidad de restringir acciones o respuestas inmediatas, evitando distracciones (1, 3 y 4).  
<br>
- Capacidad de recordar realizar acciones futuras (2 y 5).  
<br>
- Capacidad de retener y manipular información durante una tarea (1-5).
]

???

1. El cumplimiento de las reglas requiere una cuidadosa planificación y revisión de la lista antes de ingresar a las citas

2. en general, las reglas imponen mayores exigencias a la memoria de trabajo porque aumentan la cantidad de información que el paciente necesita para realizar un seguimiento al tiempo que participa en la actividad


---
class: inverse, center, middle

# __3. Administración__

---
# **Administración**
>##** Materiales necesarios**  


.pull-left[**Formularios para participantes**  
- Hoja de instrucciones y reglas [(A.1)](https://github.com/danielesnm/cursoWeekly/blob/master/Ap%C3%A9ndices/materiales%20para%20el%20participante/Apendice%201.%20Hoja%20de%20instrucciones%20y%20reglas.pdf) 
- Lista de citas y tareas a programar [(A.2)](https://github.com/danielesnm/cursoWeekly/blob/master/Ap%C3%A9ndices/materiales%20para%20el%20participante/Apendice%202.%20Lista%20de%20citas%20y%20tareas%20a%20programar.pdf)
- Calendario semanal en blanco y ejemplos [(A.3)](https://github.com/danielesnm/cursoWeekly/blob/master/Ap%C3%A9ndices/materiales%20para%20el%20participante/Apendice%203.%20Calendario%20semanal%20en%20blanco%20y%20ejemplos.pdf)
- Boligrafo (lápices no)
- 2 resaltadores de colores
- 2 folios en blanco
- Un reloj (a la vista)
]

.pull-right[**Formularios para terapeutas**  
- Cronómetro
- Instrucciones [(A.4)](https://github.com/danielesnm/cursoWeekly/blob/master/Ap%C3%A9ndices/materiales%20para%20el%20terapeuta/Apendice%204.%20Instrucciones.pdf) 
- Formulario de datos [(A.5)](https://github.com/danielesnm/cursoWeekly/blob/master/Ap%C3%A9ndices/materiales%20para%20el%20terapeuta/Apendice%205.%20Formulario%20de%20datos%20del%20paciente.pdf)
- Ficha de registro [(A.6)](https://github.com/danielesnm/cursoWeekly/blob/master/Ap%C3%A9ndices/materiales%20para%20el%20terapeuta/Apendice%206.%20Ficha%20de%20registro.pdf)
- Entrevista posterior [(A.7)](https://github.com/danielesnm/cursoWeekly/blob/master/Ap%C3%A9ndices/materiales%20para%20el%20terapeuta/Apendice%207.%20Entrevista%20posterior.pdf)
- Formulario de observaciones [(A.8)](https://github.com/danielesnm/cursoWeekly/blob/master/Ap%C3%A9ndices/materiales%20para%20el%20terapeuta/Apendice%208.%20Formulario%20de%20observaciones.pdf)
]

***

**Formularios Para calificacion(despues de la administracion)**
- Formulario de calificación [(A.9)](https://github.com/danielesnm/cursoWeekly/blob/master/Ap%C3%A9ndices/formularios%20para%20calificacion/Apendice%209.%20Formulario%20de%20calificacion.pdf)

---
background-image: url(https://github.com/danielesnm/cursoWeekly/blob/master/imagenes/Acomodo.png?raw=true)
background-position: 50% 65%
background-size: 80%
# **Administración**
>##** Acomodo de los materiales**  


---
# **Administración**
>##** Acomodo de los materiales**  


---
# remark.js

You can see an introduction of remark.js from [its homepage](https://remarkjs.com). You should read the [remark.js Wiki](https://github.com/gnab/remark/wiki) at least once to know how to

- create a new slide (Markdown syntax<sup>*</sup> and slide properties);

- format a slide (e.g. text alignment);

- configure the slideshow;

- and use the presentation (keyboard shortcuts).

It is important to be familiar with remark.js before you can understand the options in **xaringan**.

.footnote[[*] It is different with Pandoc's Markdown! It is limited but should be enough for presentation purposes. Come on... You do not need a slide for the Table of Contents! Well, the Markdown support in remark.js [may be improved](https://github.com/gnab/remark/issues/142) in the future.]

---
background-image: url(`r xaringan:::karl`)
background-size: cover
class: center, bottom, inverse

# I was so happy to have discovered remark.js!

---
class: inverse, middle, center

# Using xaringan

---

# xaringan

Provides an R Markdown output format `xaringan::moon_reader` as a wrapper for remark.js, and you can use it in the YAML metadata, e.g.

```yaml
---
title: "A Cool Presentation"
output:
  xaringan::moon_reader:
    yolo: true
    nature:
      autoplay: 30000
---
```

See the help page `?xaringan::moon_reader` for all possible options that you can use.

---

# remark.js vs xaringan

Some differences between using remark.js (left) and using **xaringan** (right):

.pull-left[
1. Start with a boilerplate HTML file;

1. Plain Markdown;

1. Write JavaScript to autoplay slides;

1. Manually configure MathJax;

1. Highlight code with `*`;

1. Edit Markdown source and refresh browser to see updated slides;
]

.pull-right[
1. Start with an R Markdown document;

1. R Markdown (can embed R/other code chunks);

1. Provide an option `autoplay`;

1. MathJax just works;<sup>*</sup>

1. Highlight code with `{{}}`;

1. The RStudio addin "Infinite Moon Reader" automatically refreshes slides on changes;
]

.footnote[[*] Not really. See next page.]

---

# Math Expressions

You can write LaTeX math expressions inside a pair of dollar signs, e.g. &#36;\alpha+\beta$ renders $\alpha+\beta$. You can use the display style with double dollar signs:

```
$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$
```

$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$

Limitations:

1. The source code of a LaTeX math expression must be in one line, unless it is inside a pair of double dollar signs, in which case the starting `$$` must appear in the very beginning of a line, followed immediately by a non-space character, and the ending `$$` must be at the end of a line, led by a non-space character;

1. There should not be spaces after the opening `$` or before the closing `$`.

1. Math does not work on the title slide (see [#61](https://github.com/yihui/xaringan/issues/61) for a workaround).

---

# R Code

```{r comment='#'}
# a boring regression
fit = lm(dist ~ 1 + speed, data = cars)
coef(summary(fit))
dojutsu = c('地爆天星', '天照', '加具土命', '神威', '須佐能乎', '無限月読')
grep('天', dojutsu, value = TRUE)
```

---

# R Plots

```{r cars, fig.height=4, dev='svg'}
par(mar = c(4, 4, 1, .1))
plot(cars, pch = 19, col = 'darkgray', las = 1)
abline(fit, lwd = 2)
```

---

# Tables

If you want to generate a table, make sure it is in the HTML format (instead of Markdown or other formats), e.g.,

```{r}
knitr::kable(head(iris), format = 'html')
```

---
layout: false 
background-image: url(https://images.squarespace-cdn.com/content/v1/596d1d73e58c62ed965e22d5/1507131572723-2R16LZ53X0YNPIDZ649O/ke17ZwdGBToddI8pDm48kLUtlpycEpcJji-VCkTnEB1Zw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7SolCep30WpQRIjoQKeSzBBWdBIuIPdH7YGk2LBjXbaU0nN6hSdZxWoZv2kAsZsz8w/WCPA+Image.png?format=500w), url(https://i.pinimg.com/originals/15/77/43/1577435154bd64302576ab10f054f197.jpg)
background-position: 95% 80%, 60% 85%
background-size: 15%, 25%
# HTML Widgets

I have not thoroughly tested HTML widgets against **xaringan**. Some may work well, and some may not. It is a little tricky.

Similarly, the Shiny mode (`runtime: shiny`) does not work. I might get these issues fixed in the future, but these are not of high priority to me. I never turn my presentation into a Shiny app. When I need to demonstrate more complicated examples, I just launch them separately. It is convenient to share slides with other people when they are plain HTML/JS applications.

See the next page for two HTML widgets.

---

```{r out.width='100%', fig.height=6, eval=require('leaflet')}
library(leaflet)
leaflet() %>% addTiles() %>% setView(-93.65, 42.0285, zoom = 17)
```

---

```{r eval=require('DT'), tidy=FALSE}
DT::datatable(
  head(iris, 10),
  fillContainer = FALSE, options = list(pageLength = 8)
)
```

---

# Some Tips

- When you use the "Infinite Moon Reader" addin in RStudio, your R session will be blocked by default. You can click the red button on the right of the console to stop serving the slides, or use the _daemonized_ mode so that it does not block your R session. To do the latter, you can set the option

    ```r
    options(servr.daemon = TRUE)
    ```
    
    in your current R session, or in `~/.Rprofile` so that it is applied to all future R sessions. I do the latter by myself.
    
    To know more about the web server, see the [**servr**](https://github.com/yihui/servr) package.

--

- Do not forget to try the `yolo` option of `xaringan::moon_reader`.

    ```yaml
    output:
      xaringan::moon_reader:
        yolo: true
    ```

---

# Some Tips

- Slides can be automatically played if you set the `autoplay` option under `nature`, e.g. go to the next slide every 30 seconds in a lightning talk:

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          autoplay: 30000
    ```

--

- A countdown timer can be added to every page of the slides using the `countdown` option under `nature`, e.g. if you want to spend one minute on every page when you give the talk, you can set:

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          countdown: 60000
    ```

    Then you will see a timer counting down from `01:00`, to `00:59`, `00:58`, ... When the time is out, the timer will continue but the time turns red.
    
---

# Some Tips

- The title slide is created automatically by **xaringan**, but it is just another remark.js slide added before your other slides.

    The title slide is set to `class: center, middle, inverse, title-slide` by default. You can change the classes applied to the title slide with the `titleSlideClass` option of `nature` (`title-slide` is always applied).

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          titleSlideClass: [top, left, inverse]
    ```
    
--

- If you'd like to create your own title slide, disable **xaringan**'s title slide with the `seal = FALSE` option of `moon_reader`.

    ```yaml
    output:
      xaringan::moon_reader:
        seal: false
    ```

---

# Some Tips

- There are several ways to build incremental slides. See [this presentation](https://slides.yihui.org/xaringan/incremental.html) for examples.

- The option `highlightLines: true` of `nature` will highlight code lines that start with `*`, or are wrapped in `{{ }}`, or have trailing comments `#<<`;

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          highlightLines: true
    ```

    See examples on the next page.

---

# Some Tips


.pull-left[
An example using a leading `*`:

    ```r
    if (TRUE) {
    ** message("Very important!")
    }
    ```
Output:
```r
if (TRUE) {
* message("Very important!")
}
```

This is invalid R code, so it is a plain fenced code block that is not executed.
]

.pull-right[
An example using `{{}}`:

````
`r ''````{r tidy=FALSE}
if (TRUE) {
*{{ message("Very important!") }}
}
```
````
Output:
```{r tidy=FALSE}
if (TRUE) {
{{ message("Very important!") }}
}
```

It is valid R code so you can run it. Note that `{{}}` can wrap an R expression of multiple lines.
]

---

# Some Tips

An example of using the trailing comment `#<<` to highlight lines:

````markdown
`r ''````{r tidy=FALSE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() +   #<<
  geom_smooth()    #<<
```
````

Output:

```{r tidy=FALSE, eval=FALSE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() +   #<<
  geom_smooth()    #<<
```

---

# Some Tips

When you enable line-highlighting, you can also use the chunk option `highlight.output` to highlight specific lines of the text output from a code chunk. For example, `highlight.output = TRUE` means highlighting all lines, and `highlight.output = c(1, 3)` means highlighting the first and third line.

````md
`r ''````{r, highlight.output=c(1, 3)}
head(iris)
```
````

```{r, highlight.output=c(1, 3), echo=FALSE}
head(iris)
```

Question: what does `highlight.output = c(TRUE, FALSE)` mean? (Hint: think about R's recycling of vectors)

---

# Some Tips

- To make slides work offline, you need to download a copy of remark.js in advance, because **xaringan** uses the online version by default (see the help page `?xaringan::moon_reader`).

- You can use `xaringan::summon_remark()` to download the latest or a specified version of remark.js. By default, it is downloaded to `libs/remark-latest.min.js`.

- Then change the `chakra` option in YAML to point to this file, e.g.

    ```yaml
    output:
      xaringan::moon_reader:
        chakra: libs/remark-latest.min.js
    ```

- If you used Google fonts in slides (the default theme uses _Yanone Kaffeesatz_, _Droid Serif_, and _Source Code Pro_), they won't work offline unless you download or install them locally. The Heroku app [google-webfonts-helper](https://google-webfonts-helper.herokuapp.com/fonts) can help you download fonts and generate the necessary CSS.

---

# Macros

- remark.js [allows users to define custom macros](https://github.com/yihui/xaringan/issues/80) (JS functions) that can be applied to Markdown text using the syntax `![:macroName arg1, arg2, ...]` or `![:macroName arg1, arg2, ...](this)`. For example, before remark.js initializes the slides, you can define a macro named `scale`:

    ```js
    remark.macros.scale = function (percentage) {
      var url = this;
      return '<img src="' + url + '" style="width: ' + percentage + '" />';
    };
    ```

    Then the Markdown text

    ```markdown
    ![:scale 50%](image.jpg)
    ```

    will be translated to
    
    ```html
    <img src="image.jpg" style="width: 50%" />
    ```

---

# Macros (continued)

- To insert macros in **xaringan** slides, you can use the option `beforeInit` under the option `nature`, e.g.,

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          beforeInit: "macros.js"
    ```

    You save your remark.js macros in the file `macros.js`.

- The `beforeInit` option can be used to insert arbitrary JS code before `remark.create()`. Inserting macros is just one of its possible applications.

---

# CSS

Among all options in `xaringan::moon_reader`, the most challenging but perhaps also the most rewarding one is `css`, because it allows you to customize the appearance of your slides using any CSS rules or hacks you know.

You can see the default CSS file [here](https://github.com/yihui/xaringan/blob/master/inst/rmarkdown/templates/xaringan/resources/default.css). You can completely replace it with your own CSS files, or define new rules to override the default. See the help page `?xaringan::moon_reader` for more information.

---

# CSS

For example, suppose you want to change the font for code from the default "Source Code Pro" to "Ubuntu Mono". You can create a CSS file named, say, `ubuntu-mono.css`:

```css
@import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

.remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
```

Then set the `css` option in the YAML metadata:

```yaml
output:
  xaringan::moon_reader:
    css: ["default", "ubuntu-mono.css"]
```

Here I assume `ubuntu-mono.css` is under the same directory as your Rmd.

See [yihui/xaringan#83](https://github.com/yihui/xaringan/issues/83) for an example of using the [Fira Code](https://github.com/tonsky/FiraCode) font, which supports ligatures in program code.

---

# Themes

Don't want to learn CSS? Okay, you can use some user-contributed themes. A theme typically consists of two CSS files `foo.css` and `foo-fonts.css`, where `foo` is the theme name. Below are some existing themes:

```{r}
names(xaringan:::list_css())
```

---

# Themes

To use a theme, you can specify the `css` option as an array of CSS filenames (without the `.css` extensions), e.g.,

```yaml
output:
  xaringan::moon_reader:
    css: [default, metropolis, metropolis-fonts]
```

If you want to contribute a theme to **xaringan**, please read [this blog post](https://yihui.org/en/2017/10/xaringan-themes).

---
class: inverse, middle, center
background-image: url(https://upload.wikimedia.org/wikipedia/commons/3/39/Naruto_Shiki_Fujin.svg)
background-size: contain

# Naruto

---
background-image: url(https://upload.wikimedia.org/wikipedia/commons/b/be/Sharingan_triple.svg)
background-size: 100px
background-position: 90% 8%

# Sharingan

The R package name **xaringan** was derived<sup>1</sup> from **Sharingan**, a dōjutsu in the Japanese anime _Naruto_ with two abilities:

- the "Eye of Insight"

- the "Eye of Hypnotism"

I think a presentation is basically a way to communicate insights to the audience, and a great presentation may even "hypnotize" the audience.<sup>2,3</sup>

.footnote[
[1] In Chinese, the pronounciation of _X_ is _Sh_ /ʃ/ (as in _shrimp_). Now you should have a better idea of how to pronounce my last name _Xie_.

[2] By comparison, bad presentations only put the audience to sleep.

[3] Personally I find that setting background images for slides is a killer feature of remark.js. It is an effective way to bring visual impact into your presentations.
]

---

# Naruto terminology

The **xaringan** package borrowed a few terms from Naruto, such as

- [Sharingan](http://naruto.wikia.com/wiki/Sharingan) (写輪眼; the package name)

- The [moon reader](http://naruto.wikia.com/wiki/Moon_Reader) (月読; an attractive R Markdown output format)

- [Chakra](http://naruto.wikia.com/wiki/Chakra) (查克拉; the path to the remark.js library, which is the power to drive the presentation)

- [Nature transformation](http://naruto.wikia.com/wiki/Nature_Transformation) (性質変化; transform the chakra by setting different options)

- The [infinite moon reader](http://naruto.wikia.com/wiki/Infinite_Tsukuyomi) (無限月読; start a local web server to continuously serve your slides)

- The [summoning technique](http://naruto.wikia.com/wiki/Summoning_Technique) (download remark.js from the web)

You can click the links to know more about them if you want. The jutsu "Moon Reader" may seem a little evil, but that does not mean your slides are evil.

---

class: center

# Hand seals (印)

Press `h` or `?` to see the possible ninjutsu you can use in remark.js.

![](https://upload.wikimedia.org/wikipedia/commons/7/7e/Mudra-Naruto-KageBunshin.svg)

---

class: center, middle

# Thanks!

Slides created via the R package [**xaringan**](https://github.com/yihui/xaringan).

The chakra comes from [remark.js](https://remarkjs.com), [**knitr**](http://yihui.org/knitr), and [R Markdown](https://rmarkdown.rstudio.com).
